# Job from go2scale hub --> hub.go2scale.io

documentation:
  image:
    name: node:12.18.3-alpine3.12
    entrypoint: [""]
  stage: build
  variables:
    APIDOC_CONFIG_PATH: '.'
    APIDOC_OUTPUT_PATH: './apidoc_build'
    APIDOC_TEMPLATE_PATH: '/usr/lib/node_modules/apidoc/template/'
  script:
    - npm install apidoc@0.24.0 -g
    - apidoc --verbose -c "$APIDOC_CONFIG_PATH" -o "$APIDOC_OUTPUT_PATH" -t "$APIDOC_TEMPLATE_PATH"
  artifacts:
    when: always
    expose_as: "Documentation"
    paths:
      - "$APIDOC_OUTPUT_PATH"
      #  - public/
  rules:
    - if: '$DOCUMENTATION_DISABLE'
      when: never


