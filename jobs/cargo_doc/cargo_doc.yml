cargo_doc:
    image: rust:1.57-buster
    stage: build
    variables:
      ONLY_LIB: 'false'
      PROJECT_ROOT: '.'
      RELEASE_MODE: 'true'
      OUTPUT_FOLDER: "website_build"
      ADDITIONAL_OPTIONS: ''
    script:
      - cd $PROJECT_ROOT
      - cargo doc --target-dir ${OUTPUT_FOLDER} --lib=$ONLY_LIB --release=$RELEASE_MODE $ADDITIONAL_OPTIONS
    artifacts:
      when: always
      expose_as: "Cargo_doc build"
      paths:
        - $OUTPUT_FOLDER
